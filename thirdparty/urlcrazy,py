import subprocess

def run_urlcrazy(domain, output_file):
    """Run URLCrazy tool on the given domain and append output to the file."""
    try:
        cmd = f"urlcrazy {domain} -o urlcrazy_output.txt"
        subprocess.run(cmd, shell=True)
        
        # Append URLs to the main output file
        with open("urlcrazy_output.txt", 'r') as src:
            urls = src.readlines()

        with open(output_file, 'a') as dest:
            for url in urls:
                if not any(url.endswith(ext) for ext in ['.jpg', '.jpeg', '.png', '.pdf', '.js', '.css']):
                    dest.write(f"{url.strip()}\n")

        print(f"[*] URLs from URLCrazy appended to {output_file}")
    
    except Exception as e:
        print(f"Error running URLCrazy: {str(e)}")
